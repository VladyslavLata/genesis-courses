"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[511],{511:function(e,s,n){n.r(s),n.d(s,{default:function(){return U}});var r=n(8683),t=n(3433),o=n(5861),c=n(9439),i=n(7757),a=n.n(i),l=n(1087),u=n(7689),d=n(2791),h=n(3881),m=n.n(h),_=n(5553),p=n(8747),f=n(808),x=n(7861),v="LessonsList_lessons-list__7gLFD",g="LessonsList_lesson__Z-4Uc",j="LessonsList_lesson-number-wrapp__s2-02",k="LessonsList_lesson-number__YgwAy",L="LessonsList_img-wrapp__q1Hdu",C="LessonsList_image__t6tpn",w="LockedMessage_locked-message__AsiJ9",b=n(184),N=function(e){var s=e.children;return(0,b.jsx)("b",{className:w,children:s})},Z=function(e){var s=e.lessons,n=e.onChangeCurrenLesson,r=(0,l.lr)(),t=(0,c.Z)(r,2),o=t[0],i=t[1],a=o.get("course");return(0,b.jsx)("ul",{className:v,children:s.map((function(e){var s=e.id,r=e.previewImageLink,t=e.status,o=e.title,c=e.order;return(0,b.jsxs)("li",{className:g,onClick:function(){n(e),i({course:a,lesson:c})},children:[(0,b.jsx)("p",{className:j,children:(0,b.jsx)("span",{className:k,children:c})}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:L,children:[(0,b.jsx)("img",{className:C,src:"".concat(r,"/lesson-").concat(c,".webp"),alt:"Preview of the lesson"})," ","locked"===t&&(0,b.jsx)(N,{children:"Locked"})]})}),(0,b.jsx)(f.D,{tag:"h3",children:o})]},s)}))})},D=n(4881),I=n(3717),A=n(6992),E=n(379),F="CurrentCourse_description__9mAng",S="CurrentCourse_video-wrapp__gosmS",T="CurrentCourse_video__xtcYf",U=function(){var e=(0,d.useState)(null),s=(0,c.Z)(e,2),n=s[0],i=s[1],h=(0,d.useState)(null),v=(0,c.Z)(h,2),g=v[0],j=v[1],k=(0,u.UO)().courseId,L=(0,l.lr)(),C=(0,c.Z)(L,1)[0].get("lesson"),w=(0,I.o)((function(e){return e.openModal})),U=(0,I.o)((function(e){return e.addLesson}));(0,d.useEffect)((function(){var e=function(){var e=(0,o.Z)(a().mark((function e(){var s,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_.X)(k);case 3:s=e.sent,n=(0,t.Z)(s.lessons).sort((function(e,s){return e.order-s.order})),i((0,r.Z)((0,r.Z)({},s),{},{lessons:(0,t.Z)(n)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[k]),(0,d.useEffect)((function(){n&&j(C?n.lessons[Number(C)-1]:n.lessons[0])}),[n,C]);var y=(0,p.d)(g).saveCurrentTimeVideo;return(0,b.jsxs)(b.Fragment,{children:[n&&g&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:S,children:[(0,b.jsx)("video",{className:T,id:k,controls:"unlocked"===g.status,width:"100%",poster:"".concat(null===g||void 0===g?void 0:g.previewImageLink,"/lesson-").concat(g.order,".webp"),onTimeUpdate:m()((function(e){return y(e)}),1e3)}),g&&"locked"===g.status&&(0,b.jsx)(N,{children:"This video is blocked"})]}),(0,b.jsxs)(f.D,{tag:"h2",children:["Current lesson: ".concat(g.order," - ").concat(g.title)," ","unlocked"===g.status&&(0,b.jsx)(E.E,{onClick:function(){w(),U(g)},children:(0,b.jsx)(A.nOw,{})})," "]}),(0,b.jsxs)("div",{children:[n&&(0,b.jsx)(f.D,{main:!0,children:"Course: ".concat(n.title)}),(0,b.jsx)(x.$,{lessonsCount:n.lessons.length,rating:n.rating,metaInfo:n.meta,children:(0,b.jsx)("b",{className:F,children:n.description})})]})]}),n&&(0,b.jsx)(Z,{lessons:n.lessons,onChangeCurrenLesson:j}),!n&&(0,b.jsx)(D.a,{})]})}}}]);
//# sourceMappingURL=511.5b51b44a.chunk.js.map