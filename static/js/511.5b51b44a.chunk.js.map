{"version":3,"file":"static/js/511.5b51b44a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/LessonsList/LessonsList.module.scss?3333","webpack://react-homework-template/./src/components/LockedMessage/LockedMessage.module.scss?2913","components/LockedMessage/LockedMessage.js","components/LessonsList/LessonsList.js","webpack://react-homework-template/./src/pages/CurrentCourse/CurrentCourse.module.scss?5984","pages/CurrentCourse/CurrentCourse.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"lessons-list\":\"LessonsList_lessons-list__7gLFD\",\"lesson\":\"LessonsList_lesson__Z-4Uc\",\"lesson-number-wrapp\":\"LessonsList_lesson-number-wrapp__s2-02\",\"lesson-number\":\"LessonsList_lesson-number__YgwAy\",\"img-wrapp\":\"LessonsList_img-wrapp__q1Hdu\",\"image\":\"LessonsList_image__t6tpn\"};","// extracted by mini-css-extract-plugin\nexport default {\"locked-message\":\"LockedMessage_locked-message__AsiJ9\"};","import styles from './LockedMessage.module.scss';\n\nexport const LockedMessage = ({ children }) => {\n  return <b className={styles['locked-message']}>{children}</b>;\n};\n","import styles from './LessonsList.module.scss';\nimport { useSearchParams } from 'react-router-dom';\nimport { LockedMessage } from 'components/LockedMessage/LockedMessage';\nimport { Title } from 'components/Title/Title';\n\nexport const LessonsList = ({ lessons, onChangeCurrenLesson }) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const course = searchParams.get('course');\n\n  return (\n    <ul className={styles['lessons-list']}>\n      {lessons.map(lesson => {\n        const { id, previewImageLink, status, title, order } = lesson;\n        // console.log(`${previewImageLink}/${order}.webp`);\n        return (\n          <li\n            key={id}\n            className={styles.lesson}\n            onClick={() => {\n              onChangeCurrenLesson(lesson);\n              setSearchParams({ course: course, lesson: order });\n            }}\n          >\n            <p className={styles['lesson-number-wrapp']}>\n              <span className={styles['lesson-number']}>{order}</span>\n            </p>\n            <div>\n              <div className={styles['img-wrapp']}>\n                <img\n                  className={styles.image}\n                  src={`${previewImageLink}/lesson-${order}.webp`}\n                  alt=\"Preview of the lesson\"\n                />{' '}\n                {status === 'locked' && <LockedMessage>Locked</LockedMessage>}\n              </div>\n            </div>\n            {/* <h3 className={styles.title}>{title}</h3> */}\n            <Title tag=\"h3\">{title}</Title>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"description\":\"CurrentCourse_description__9mAng\",\"video-wrapp\":\"CurrentCourse_video-wrapp__gosmS\",\"video\":\"CurrentCourse_video__xtcYf\"};","import { useParams, useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport throttle from 'lodash.throttle';\nimport { getCourse } from 'API/API';\n// import { videoPlayerInit } from 'utils/videoPlayerInit';\nimport { useVideoPlayer } from 'hooks/useVideoPlayer';\nimport { Title } from 'components/Title/Title';\nimport { CoursesInfo } from 'components/CoursesInfo/CoursesInfo';\nimport { LessonsList } from 'components/LessonsList/LessonsList';\nimport { LockedMessage } from 'components/LockedMessage/LockedMessage';\n// import { Modal } from 'components/Modal/Modal';\nimport { Loader } from 'components/Loader/Loader';\nimport { useStore } from 'Store/Store';\nimport { VscMultipleWindows } from 'react-icons/vsc';\nimport { ButtonIcon } from 'components/ButtonIcon/ButtonIcon';\nimport styles from './CurrentCourse.module.scss';\n\nconst CurrentCourse = () => {\n  const [course, setCourse] = useState(null);\n  const [currentLesson, setCurrentLesson] = useState(null);\n  // const [startVideoWith, setstartVideoWith] = useState(-1);\n  // const [time, setTime] = useState(0);\n  const { courseId } = useParams();\n  const [searchParams] = useSearchParams();\n  const currentLessonNumber = searchParams.get('lesson');\n  // const th = throttle();\n  const onOpenModal = useStore(state => state.openModal);\n  const addLessonOnModalVideo = useStore(state => state.addLesson);\n\n  useEffect(() => {\n    const getDataCourse = async () => {\n      try {\n        const course = await getCourse(courseId);\n        const sortCourse = [...course.lessons].sort(\n          (a, b) => a.order - b.order\n        );\n        setCourse({ ...course, lessons: [...sortCourse] });\n        // setCourse({ ...course });\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n\n    getDataCourse();\n  }, [courseId]);\n\n  useEffect(() => {\n    if (!course) {\n      return;\n    } else if (currentLessonNumber) {\n      setCurrentLesson(course.lessons[Number(currentLessonNumber) - 1]);\n    } else {\n      setCurrentLesson(course.lessons[0]);\n    }\n  }, [course, currentLessonNumber]);\n\n  const { saveCurrentTimeVideo } = useVideoPlayer(currentLesson);\n\n  return (\n    <>\n      {course && currentLesson && (\n        <>\n          <div className={styles['video-wrapp']}>\n            <video\n              className={styles.video}\n              id={courseId}\n              controls={currentLesson.status === 'unlocked'}\n              width=\"100%\"\n              poster={`${currentLesson?.previewImageLink}/lesson-${currentLesson.order}.webp`}\n              onTimeUpdate={throttle(e => saveCurrentTimeVideo(e), 1000)}\n            ></video>\n            {currentLesson && currentLesson.status === 'locked' && (\n              <LockedMessage>This video is blocked</LockedMessage>\n            )}\n          </div>\n          <Title tag=\"h2\">\n            {`Current lesson: ${currentLesson.order} - ${currentLesson.title}`}{' '}\n            {currentLesson.status === 'unlocked' && (\n              <ButtonIcon\n                onClick={() => {\n                  onOpenModal();\n                  addLessonOnModalVideo(currentLesson);\n                }}\n              >\n                <VscMultipleWindows />\n              </ButtonIcon>\n            )}{' '}\n          </Title>\n          <div>\n            {course && <Title main>{`Course: ${course.title}`}</Title>}\n            <CoursesInfo\n              lessonsCount={course.lessons.length}\n              rating={course.rating}\n              metaInfo={course.meta}\n              // skillListStyle=\"main-skills-list\"\n            >\n              <b className={styles.description}>{course.description}</b>\n            </CoursesInfo>\n          </div>\n        </>\n      )}\n      {course && (\n        <LessonsList\n          lessons={course.lessons}\n          onChangeCurrenLesson={setCurrentLesson}\n        />\n      )}\n      {!course && <Loader />}\n    </>\n  );\n};\n\nexport default CurrentCourse;\n"],"names":["LockedMessage","children","className","styles","LessonsList","lessons","onChangeCurrenLesson","useSearchParams","searchParams","setSearchParams","course","get","map","lesson","id","previewImageLink","status","title","order","onClick","src","alt","Title","tag","useState","setCourse","currentLesson","setCurrentLesson","courseId","useParams","currentLessonNumber","onOpenModal","useStore","state","openModal","addLessonOnModalVideo","addLesson","useEffect","getDataCourse","getCourse","sortCourse","sort","a","b","console","log","message","Number","saveCurrentTimeVideo","useVideoPlayer","controls","width","poster","onTimeUpdate","throttle","e","ButtonIcon","main","CoursesInfo","lessonsCount","length","rating","metaInfo","meta","description","Loader"],"sourceRoot":""}