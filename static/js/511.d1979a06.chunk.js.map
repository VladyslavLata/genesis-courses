{"version":3,"file":"static/js/511.d1979a06.chunk.js","mappings":"gUACA,EAA+B,kCAA/B,EAA0E,4BAA1E,EAA4H,yCAA5H,EAAqL,mCAArL,EAAoO,+BAApO,EAA2Q,2BCA3Q,EAAiC,sC,SCCpBA,EAAgB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC9B,OAAO,cAAGC,UAAWC,EAAd,SAAyCF,GACjD,ECAYG,EAAc,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,QAASC,EAA2B,EAA3BA,qBACrC,OACE,eAAIJ,UAAWC,EAAf,SACGE,EAAQE,KAAI,SAAAC,GACX,IAAQC,EAA+CD,EAA/CC,GAAIC,EAA2CF,EAA3CE,iBAAkBC,EAAyBH,EAAzBG,OAAQC,EAAiBJ,EAAjBI,MAAOC,EAAUL,EAAVK,MAE7C,OACE,gBAEEX,UAAWC,EACXW,QAAS,kBAAMR,EAAqBE,EAA3B,EAHX,WAKE,cAAGN,UAAWC,EAAd,UACE,iBAAMD,UAAWC,EAAjB,SAA2CU,OAE7C,0BACE,iBAAKX,UAAWC,EAAhB,WACE,gBACED,UAAWC,EACXY,IAAG,UAAKL,EAAL,YAAyBG,EAAzB,SACHG,IAAI,0BACH,IACS,WAAXL,IAAuB,SAACX,EAAD,2BAI5B,SAACiB,EAAA,EAAD,CAAOC,IAAI,KAAX,SAAiBN,MAlBZH,EAqBV,KAGN,E,uCCnCD,EAA8B,mCAA9B,EAA+E,mCAA/E,EAA0H,6BCyG1H,EAzFsB,WACpB,OAA4BU,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0CF,EAAAA,EAAAA,UAAS,MAAnD,eAAOG,EAAP,KAAsBC,EAAtB,KAGQC,GAAaC,EAAAA,EAAAA,MAAbD,SAEFE,GAAcC,EAAAA,EAAAA,IAAS,SAAAC,GAAK,OAAIA,EAAMC,SAAV,IAC5BC,GAAwBH,EAAAA,EAAAA,IAAS,SAAAC,GAAK,OAAIA,EAAMG,SAAV,KAE5CC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,mCAAG,gHAEGC,EAAAA,EAAAA,GAAUV,GAFb,OAEZJ,EAFY,OAGZe,GAAa,OAAIf,EAAOf,SAAS+B,MACrC,SAACC,EAAGC,GAAJ,OAAUD,EAAExB,MAAQyB,EAAEzB,KAAtB,IAEFQ,GAAU,kBAAKD,GAAN,IAAcf,SAAQ,OAAK8B,MANlB,gDAQlBI,QAAQC,IAAI,KAAMC,SARA,yDAAH,qDAYnBR,GACD,GAAE,CAACT,KAEJQ,EAAAA,EAAAA,YAAU,WACHZ,GAGLG,EAAiBH,EAAOf,QAAQ,GACjC,GAAE,CAACe,IAEJ,IAAQsB,GAAyBC,EAAAA,EAAAA,GAAerB,GAAxCoB,qBAER,OACE,gCACGtB,GAAUE,IACT,iCACE,iBAAKpB,UAAWC,EAAhB,WACE,kBACED,UAAWC,EACXM,GAAIe,EACJoB,SAAmC,aAAzBtB,EAAcX,OACxBkC,MAAM,OACNC,OAAM,iBAAKxB,QAAL,IAAKA,OAAL,EAAKA,EAAeZ,iBAApB,YAAwCY,EAAcT,MAAtD,SACNkC,aAAcC,KAAS,SAAAC,GAAC,OAAIP,EAAqBO,EAAzB,GAA6B,OAEtD3B,GAA0C,WAAzBA,EAAcX,SAC9B,SAACX,EAAD,wCAGJ,UAACiB,EAAA,EAAD,CAAOC,IAAI,KAAX,oCACsBI,EAAcT,MADpC,cAC+CS,EAAcV,OAAS,IAC1C,aAAzBU,EAAcX,SACb,SAACuC,EAAA,EAAD,CACEpC,QAAS,WACPY,IACAI,EAAsBR,EACvB,EAJH,UAME,SAAC,MAAD,MAED,QAEL,2BACGF,IAAU,SAACH,EAAA,EAAD,CAAOkC,MAAI,EAAX,2BAAwB/B,EAAOR,UAC1C,SAACwC,EAAA,EAAD,CACEC,aAAcjC,EAAOf,QAAQiD,OAC7BC,OAAQnC,EAAOmC,OACfC,SAAUpC,EAAOqC,KAHnB,UAME,cAAGvD,UAAWC,EAAd,SAAmCiB,EAAOsC,sBAKjDtC,IACC,SAAChB,EAAD,CACEC,QAASe,EAAOf,QAChBC,qBAAsBiB,KAGxBH,IAAU,SAACuC,EAAA,EAAD,MAGjB,C","sources":["webpack://react-homework-template/./src/components/LessonsList/LessonsList.module.scss?3333","webpack://react-homework-template/./src/components/LockedMessage/LockedMessage.module.scss?2913","components/LockedMessage/LockedMessage.js","components/LessonsList/LessonsList.js","webpack://react-homework-template/./src/pages/CurrentCourse/CurrentCourse.module.scss?5984","pages/CurrentCourse/CurrentCourse.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"lessons-list\":\"LessonsList_lessons-list__7gLFD\",\"lesson\":\"LessonsList_lesson__Z-4Uc\",\"lesson-number-wrapp\":\"LessonsList_lesson-number-wrapp__s2-02\",\"lesson-number\":\"LessonsList_lesson-number__YgwAy\",\"img-wrapp\":\"LessonsList_img-wrapp__q1Hdu\",\"image\":\"LessonsList_image__t6tpn\"};","// extracted by mini-css-extract-plugin\nexport default {\"locked-message\":\"LockedMessage_locked-message__AsiJ9\"};","import styles from './LockedMessage.module.scss';\n\nexport const LockedMessage = ({ children }) => {\n  return <b className={styles['locked-message']}>{children}</b>;\n};\n","import styles from './LessonsList.module.scss';\nimport { LockedMessage } from 'components/LockedMessage/LockedMessage';\nimport { Title } from 'components/Title/Title';\n\nexport const LessonsList = ({ lessons, onChangeCurrenLesson }) => {\n  return (\n    <ul className={styles['lessons-list']}>\n      {lessons.map(lesson => {\n        const { id, previewImageLink, status, title, order } = lesson;\n        // console.log(`${previewImageLink}/${order}.webp`);\n        return (\n          <li\n            key={id}\n            className={styles.lesson}\n            onClick={() => onChangeCurrenLesson(lesson)}\n          >\n            <p className={styles['lesson-number-wrapp']}>\n              <span className={styles['lesson-number']}>{order}</span>\n            </p>\n            <div>\n              <div className={styles['img-wrapp']}>\n                <img\n                  className={styles.image}\n                  src={`${previewImageLink}/${order}.webp`}\n                  alt=\"Preview of the lesson\"\n                />{' '}\n                {status === 'locked' && <LockedMessage>Locked</LockedMessage>}\n              </div>\n            </div>\n            {/* <h3 className={styles.title}>{title}</h3> */}\n            <Title tag=\"h3\">{title}</Title>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"description\":\"CurrentCourse_description__9mAng\",\"video-wrapp\":\"CurrentCourse_video-wrapp__gosmS\",\"video\":\"CurrentCourse_video__xtcYf\"};","import { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport throttle from 'lodash.throttle';\nimport { getCourse } from 'API/API';\n// import { videoPlayerInit } from 'utils/videoPlayerInit';\nimport { useVideoPlayer } from 'hooks/useVideoPlayer';\nimport { Title } from 'components/Title/Title';\nimport { CoursesInfo } from 'components/CoursesInfo/CoursesInfo';\nimport { LessonsList } from 'components/LessonsList/LessonsList';\nimport { LockedMessage } from 'components/LockedMessage/LockedMessage';\n// import { Modal } from 'components/Modal/Modal';\nimport { Loader } from 'components/Loader/Loader';\nimport { useStore } from 'Store/Store';\nimport { VscMultipleWindows } from 'react-icons/vsc';\nimport { ButtonIcon } from 'components/ButtonIcon/ButtonIcon';\nimport styles from './CurrentCourse.module.scss';\n\nconst CurrentCourse = () => {\n  const [course, setCourse] = useState(null);\n  const [currentLesson, setCurrentLesson] = useState(null);\n  // const [startVideoWith, setstartVideoWith] = useState(-1);\n  // const [time, setTime] = useState(0);\n  const { courseId } = useParams();\n  // const th = throttle();\n  const onOpenModal = useStore(state => state.openModal);\n  const addLessonOnModalVideo = useStore(state => state.addLesson);\n\n  useEffect(() => {\n    const getDataCourse = async () => {\n      try {\n        const course = await getCourse(courseId);\n        const sortCourse = [...course.lessons].sort(\n          (a, b) => a.order - b.order\n        );\n        setCourse({ ...course, lessons: [...sortCourse] });\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n\n    getDataCourse();\n  }, [courseId]);\n\n  useEffect(() => {\n    if (!course) {\n      return;\n    }\n    setCurrentLesson(course.lessons[0]);\n  }, [course]);\n\n  const { saveCurrentTimeVideo } = useVideoPlayer(currentLesson);\n\n  return (\n    <>\n      {course && currentLesson && (\n        <>\n          <div className={styles['video-wrapp']}>\n            <video\n              className={styles.video}\n              id={courseId}\n              controls={currentLesson.status === 'unlocked'}\n              width=\"100%\"\n              poster={`${currentLesson?.previewImageLink}/${currentLesson.order}.webp`}\n              onTimeUpdate={throttle(e => saveCurrentTimeVideo(e), 1000)}\n            ></video>\n            {currentLesson && currentLesson.status === 'locked' && (\n              <LockedMessage>This video is blocked</LockedMessage>\n            )}\n          </div>\n          <Title tag=\"h2\">\n            {`Current lesson: ${currentLesson.order} - ${currentLesson.title}`}{' '}\n            {currentLesson.status === 'unlocked' && (\n              <ButtonIcon\n                onClick={() => {\n                  onOpenModal();\n                  addLessonOnModalVideo(currentLesson);\n                }}\n              >\n                <VscMultipleWindows />\n              </ButtonIcon>\n            )}{' '}\n          </Title>\n          <div>\n            {course && <Title main>{`Course: ${course.title}`}</Title>}\n            <CoursesInfo\n              lessonsCount={course.lessons.length}\n              rating={course.rating}\n              metaInfo={course.meta}\n              // skillListStyle=\"main-skills-list\"\n            >\n              <b className={styles.description}>{course.description}</b>\n            </CoursesInfo>\n          </div>\n        </>\n      )}\n      {course && (\n        <LessonsList\n          lessons={course.lessons}\n          onChangeCurrenLesson={setCurrentLesson}\n        />\n      )}\n      {!course && <Loader />}\n    </>\n  );\n};\n\nexport default CurrentCourse;\n"],"names":["LockedMessage","children","className","styles","LessonsList","lessons","onChangeCurrenLesson","map","lesson","id","previewImageLink","status","title","order","onClick","src","alt","Title","tag","useState","course","setCourse","currentLesson","setCurrentLesson","courseId","useParams","onOpenModal","useStore","state","openModal","addLessonOnModalVideo","addLesson","useEffect","getDataCourse","getCourse","sortCourse","sort","a","b","console","log","message","saveCurrentTimeVideo","useVideoPlayer","controls","width","poster","onTimeUpdate","throttle","e","ButtonIcon","main","CoursesInfo","lessonsCount","length","rating","metaInfo","meta","description","Loader"],"sourceRoot":""}