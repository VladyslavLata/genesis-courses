"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[511],{511:function(e,s,n){n.r(s),n.d(s,{default:function(){return F}});var r=n(8683),t=n(3433),o=n(5861),c=n(9439),i=n(7757),l=n.n(i),a=n(1087),d=n(7689),u=n(2791),h=n(3881),m=n.n(h),p=n(5553),v=n(8747),f=n(808),_=n(7861),g="LessonsList_lessons-list__7gLFD",x="LessonsList_lesson__Z-4Uc",j="LessonsList_lesson-number-wrapp__s2-02",w="LessonsList_lesson-number__YgwAy",k="LessonsList_img-wrapp__q1Hdu",L="LessonsList_image__t6tpn",C="LockedMessage_locked-message__AsiJ9",b=n(184),y=function(e){var s=e.children;return(0,b.jsx)("b",{className:C,children:s})},N=function(e){var s=e.lessons,n=e.onChangeCurrenLesson,r=(0,a.lr)(),t=(0,c.Z)(r,2),o=t[0],i=t[1],l=o.get("course");return(0,b.jsx)("ul",{className:g,children:s.map((function(e){var s=e.id,r=e.previewImageLink,t=e.status,o=e.title,c=e.order;return(0,b.jsxs)("li",{className:x,onClick:function(){n(e),i({course:l,lesson:c})},children:[(0,b.jsx)("p",{className:j,children:(0,b.jsx)("span",{className:w,children:c})}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:k,children:[(0,b.jsx)("img",{className:L,src:"".concat(r,"/lesson-").concat(c,".webp"),alt:"Preview of the lesson"})," ","locked"===t&&(0,b.jsx)(y,{children:"Locked"})]})}),(0,b.jsx)(f.D,{tag:"h3",children:o})]},s)}))})},Z=n(3977),E=n(4881),I=n(3717),S=n(6992),A=n(379),D="CurrentCourse_description__9mAng",T="CurrentCourse_video-wrapp__gosmS",U="CurrentCourse_video__xtcYf",F=function(){var e=(0,u.useState)(null),s=(0,c.Z)(e,2),n=s[0],i=s[1],h=(0,u.useState)(null),g=(0,c.Z)(h,2),x=g[0],j=g[1],w=(0,u.useState)("idle"),k=(0,c.Z)(w,2),L=k[0],C=k[1],F=(0,d.UO)().courseId,K=(0,a.lr)(),M=(0,c.Z)(K,1)[0].get("lesson"),O=(0,I.o)((function(e){return e.openModal})),R=(0,I.o)((function(e){return e.addLesson}));(0,u.useEffect)((function(){var e=function(){var e=(0,o.Z)(l().mark((function e(){var s,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("pending"),e.prev=1,e.next=4,(0,p.X)(F);case 4:s=e.sent,n=(0,t.Z)(s.lessons).sort((function(e,s){return e.order-s.order})),i((0,r.Z)((0,r.Z)({},s),{},{lessons:(0,t.Z)(n)})),C("resolved"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),C("rejected"),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[F]),(0,u.useEffect)((function(){n&&j(M?n.lessons[Number(M)-1]:n.lessons[0])}),[n,M]),(0,u.useEffect)((function(){var e=document.getElementById("".concat(F)),s=function(s){s.ctrlKey&&"ArrowUp"===s.code?(console.log(null===e||void 0===e?void 0:e.playbackRate),e.playbackRate=3):s.ctrlKey&&s.code};return window.addEventListener("keydown",s),function(){return window.removeEventListener("keydown",s)}}),[F]);var Y=(0,v.d)(x).saveCurrentTimeVideo;return(0,b.jsxs)(b.Fragment,{children:["resolved"===L&&x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:T,children:[(0,b.jsx)("video",{className:U,id:F,controls:"unlocked"===x.status,width:"100%",poster:"".concat(null===x||void 0===x?void 0:x.previewImageLink,"/lesson-").concat(x.order,".webp"),onTimeUpdate:m()((function(e){return Y(e)}),1e3)}),x&&"locked"===x.status&&(0,b.jsx)(y,{children:"This video is blocked"})]}),(0,b.jsxs)(f.D,{tag:"h2",children:["Current lesson: ".concat(x.order," - ").concat(x.title)," ","unlocked"===x.status&&(0,b.jsx)(A.E,{onClick:function(){O(),R(x)},children:(0,b.jsx)(S.nOw,{})})," "]}),(0,b.jsxs)("div",{children:["resolved"===L&&n&&(0,b.jsx)(f.D,{main:!0,children:"Course: ".concat(n.title)}),(0,b.jsx)(_.$,{lessonsCount:n.lessons.length,rating:n.rating,metaInfo:n.meta,children:(0,b.jsx)("b",{className:D,children:n.description})})]})]}),"resolved"===L&&n&&(0,b.jsx)(N,{lessons:n.lessons,onChangeCurrenLesson:j}),"pending"===L&&(0,b.jsx)(E.a,{}),"rejected"===L&&(0,b.jsx)(Z.v,{children:"Sorry, something went wrong. Try reloading the page"})]})}}}]);
//# sourceMappingURL=511.ef9c0771.chunk.js.map