"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[511],{511:function(e,s,n){n.r(s),n.d(s,{default:function(){return F}});var r=n(8683),t=n(3433),o=n(5861),c=n(9439),a=n(7757),i=n.n(a),l=n(1087),d=n(7689),u=n(2791),m=n(3881),h=n.n(m),p=n(5553),v=n(8747),f=n(808),_=n(7861),g="LessonsList_lessons-list__7gLFD",x="LessonsList_lesson__Z-4Uc",w="LessonsList_lesson-number-wrapp__s2-02",j="LessonsList_lesson-number__YgwAy",k="LessonsList_img-wrapp__q1Hdu",L="LessonsList_image__t6tpn",C="LockedMessage_locked-message__AsiJ9",b=n(184),y=function(e){var s=e.children;return(0,b.jsx)("b",{className:C,children:s})},N=function(e){var s=e.lessons,n=e.onChangeCurrenLesson,r=(0,l.lr)(),t=(0,c.Z)(r,2),o=t[0],a=t[1],i=o.get("course");return(0,b.jsx)("ul",{className:g,children:s.map((function(e){var s=e.id,r=e.previewImageLink,t=e.status,o=e.title,c=e.order;return(0,b.jsxs)("li",{className:x,onClick:function(){n(e),a({course:i,lesson:c})},children:[(0,b.jsx)("p",{className:w,children:(0,b.jsx)("span",{className:j,children:c})}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:k,children:[(0,b.jsx)("img",{className:L,src:"".concat(r,"/lesson-").concat(c,".webp"),alt:"Preview of the lesson"})," ","locked"===t&&(0,b.jsx)(y,{children:"Locked"})]})}),(0,b.jsx)(f.D,{tag:"h3",children:o})]},s)}))})},Z=n(3977),E=n(4881),I=n(3717),A=n(6992),D=n(379),S="CurrentCourse_description__9mAng",T="CurrentCourse_video-wrapp__gosmS",U="CurrentCourse_video__xtcYf",F=function(){var e=(0,u.useState)(null),s=(0,c.Z)(e,2),n=s[0],a=s[1],m=(0,u.useState)(null),g=(0,c.Z)(m,2),x=g[0],w=g[1],j=(0,u.useState)("idle"),k=(0,c.Z)(j,2),L=k[0],C=k[1],F=(0,d.UO)().courseId,R=(0,l.lr)(),B=(0,c.Z)(R,1)[0].get("lesson"),K=(0,I.o)((function(e){return e.openModal})),M=(0,I.o)((function(e){return e.addLesson}));(0,u.useEffect)((function(){var e=function(){var e=(0,o.Z)(i().mark((function e(){var s,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("pending"),e.prev=1,e.next=4,(0,p.X)(F);case 4:s=e.sent,n=(0,t.Z)(s.lessons).sort((function(e,s){return e.order-s.order})),a((0,r.Z)((0,r.Z)({},s),{},{lessons:(0,t.Z)(n)})),C("resolved"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),C("rejected"),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[F]),(0,u.useEffect)((function(){n&&w(B?n.lessons[Number(B)-1]:n.lessons[0])}),[n,B]),(0,u.useEffect)((function(){var e=document.getElementById("".concat(F)),s=function(s){s.ctrlKey&&"ArrowUp"===s.code?(console.log(null===e||void 0===e?void 0:e.playbackRate),e.playbackRate+=.1):s.ctrlKey&&"ArrowDown"===s.code&&(e.playbackRate-=.1)};return window.addEventListener("keydown",s),function(){return window.removeEventListener("keydown",s)}}),[F]);var O=(0,v.d)(x).saveCurrentTimeVideo;return(0,b.jsxs)(b.Fragment,{children:["resolved"===L&&x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:T,children:[(0,b.jsx)("video",{className:U,id:F,controls:"unlocked"===x.status,width:"100%",poster:"".concat(null===x||void 0===x?void 0:x.previewImageLink,"/lesson-").concat(x.order,".webp"),onTimeUpdate:h()((function(e){return O(e)}),1e3)}),x&&"locked"===x.status&&(0,b.jsx)(y,{children:"This video is blocked"})]}),(0,b.jsxs)(f.D,{tag:"h2",children:["Current lesson: ".concat(x.order," - ").concat(x.title)," ","unlocked"===x.status&&(0,b.jsx)(D.E,{onClick:function(){K(),M(x),function(){var e=document.getElementById("".concat(F));null===e||void 0===e||e.pause()}()},children:(0,b.jsx)(A.nOw,{})})," "]}),(0,b.jsxs)("div",{children:["resolved"===L&&n&&(0,b.jsx)(f.D,{main:!0,children:"Course: ".concat(n.title)}),(0,b.jsx)(_.$,{lessonsCount:n.lessons.length,rating:n.rating,metaInfo:n.meta,children:(0,b.jsx)("b",{className:S,children:n.description})})]})]}),"resolved"===L&&n&&(0,b.jsx)(N,{lessons:n.lessons,onChangeCurrenLesson:w}),"pending"===L&&(0,b.jsx)(E.a,{}),"rejected"===L&&(0,b.jsx)(Z.v,{children:"Sorry, something went wrong. Try reloading the page"})]})}}}]);
//# sourceMappingURL=511.4b995505.chunk.js.map